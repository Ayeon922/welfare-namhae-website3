{% extends "base.html" %}

{% block title %}ë³µì§€ í˜œíƒ ì°¾ê¸° ì‹œì‘ - ë…¸ì¸ ë³µì§€ ì¶”ì²œ í”Œë«í¼{% endblock %}

{% block content %}
<div class="survey-intro">
    <div class="intro-header">
        <h1 class="intro-title">ğŸ“‹ ë³µì§€ í˜œíƒ ì°¾ê¸°</h1>
        <p class="intro-subtitle">3ë‹¨ê³„ ê°„ë‹¨í•œ ì§ˆë¬¸ìœ¼ë¡œ ë§ì¶¤í˜• ë³µì§€ í”„ë¡œê·¸ë¨ì„ ì¶”ì²œë°›ìœ¼ì„¸ìš”</p>
    </div>
    
    <div class="intro-content">
        <div class="intro-steps">
            <h2>ğŸ“ ì§„í–‰ ê³¼ì •</h2>
            <div class="step-preview">
                <div class="preview-step">
                    <div class="step-icon">1ï¸âƒ£</div>
                    <div class="step-info">
                        <h3>ê¸°ë³¸ ì •ë³´</h3>
                        <p>ì´ë¦„, ë‚˜ì´, ê±°ì£¼ì§€ì—­</p>
                        <span class="step-time">ì•½ 1ë¶„</span>
                    </div>
                </div>
                <div class="preview-step">
                    <div class="step-icon">2ï¸âƒ£</div>
                    <div class="step-info">
                        <h3>ê±´ê°• ìƒíƒœ</h3>
                        <p>ì§ˆë³‘, ì¥ì• , ë³µìš© ì•½ë¬¼</p>
                        <span class="step-time">ì•½ 2ë¶„</span>
                    </div>
                </div>
                <div class="preview-step">
                    <div class="step-icon">3ï¸âƒ£</div>
                    <div class="step-info">
                        <h3>ìƒí™œ ìƒí™©</h3>
                        <p>ê°€ì¡± êµ¬ì„±, ì†Œë“, ì£¼ê±°</p>
                        <span class="step-time">ì•½ 1ë¶„</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="intro-benefits">
            <h2>âœ¨ ë°›ì„ ìˆ˜ ìˆëŠ” í˜œíƒ</h2>
            <div class="benefit-list">
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ’°</div>
                    <span>ê¸°ì´ˆì—°ê¸ˆ (ì›” ìµœëŒ€ 323,180ì›)</span>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ¥</div>
                    <span>ì˜ë£Œë¹„ ì§€ì› (80-100% ì§€ì›)</span>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ </div>
                    <span>ë…ê±°ë…¸ì¸ ìƒí™œê´€ë¦¬ì‚¬ íŒŒê²¬</span>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ’¼</div>
                    <span>ë…¸ì¸ ì¼ìë¦¬ ì‚¬ì—… ì°¸ì—¬</span>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ”§</div>
                    <span>ì¥ê¸°ìš”ì–‘ë³´í—˜ ì„œë¹„ìŠ¤</span>
                </div>
            </div>
        </div>
        
        <div class="privacy-notice">
            <h2>ğŸ”’ ê°œì¸ì •ë³´ ë³´í˜¸</h2>
            <div class="privacy-content">
                <div class="privacy-item">
                    <div class="privacy-icon">âœ…</div>
                    <p><strong>ë¡œê·¸ì¸ ë¶ˆí•„ìš”</strong><br>íšŒì›ê°€ì… ì—†ì´ ë°”ë¡œ ì´ìš© ê°€ëŠ¥</p>
                </div>
                <div class="privacy-item">
                    <div class="privacy-icon">ğŸ—‘ï¸</div>
                    <p><strong>ìë™ ì‚­ì œ</strong><br>ì…ë ¥í•œ ì •ë³´ëŠ” 24ì‹œê°„ í›„ ìë™ ì‚­ì œ</p>
                </div>
                <div class="privacy-item">
                    <div class="privacy-icon">ğŸ”</div>
                    <p><strong>ì•”í˜¸í™” ì²˜ë¦¬</strong><br>ëª¨ë“  ë°ì´í„°ëŠ” ì•ˆì „í•˜ê²Œ ì•”í˜¸í™”</p>
                </div>
            </div>
        </div>
        
        <div class="consent-form">
            <h2>ğŸ“‹ ì´ìš© ë™ì˜</h2>
            <div class="consent-items">
                <label class="consent-item">
                    <input type="checkbox" id="consent-service" required>
                    <span class="checkmark"></span>
                    <span class="consent-text">
                        <strong>[í•„ìˆ˜] ì„œë¹„ìŠ¤ ì´ìš© ë™ì˜</strong><br>
                        ë³µì§€ í˜œíƒ ì¶”ì²œì„ ìœ„í•œ ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.
                    </span>
                </label>
                
                <label class="consent-item">
                    <input type="checkbox" id="consent-privacy" required>
                    <span class="checkmark"></span>
                    <span class="consent-text">
                        <strong>[í•„ìˆ˜] ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ ë™ì˜</strong><br>
                        ê°œì¸ì •ë³´ ë³´í˜¸ë²•ì— ë”°ë¥¸ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì— ë™ì˜í•©ë‹ˆë‹¤.
                    </span>
                </label>
                
                <label class="consent-item">
                    <input type="checkbox" id="consent-optional">
                    <span class="checkmark"></span>
                    <span class="consent-text">
                        <strong>[ì„ íƒ] ì„œë¹„ìŠ¤ ê°œì„ ì„ ìœ„í•œ ë°ì´í„° í™œìš© ë™ì˜</strong><br>
                        ë” ë‚˜ì€ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•œ í†µê³„ ë¶„ì„ì— ë™ì˜í•©ë‹ˆë‹¤.
                    </span>
                </label>
            </div>
            
            <button id="consent-all" class="consent-all-btn">ëª¨ë‘ ë™ì˜í•˜ê¸°</button>
        </div>
        
        <div class="action-buttons">
            <a href="{{ url_for('index') }}" class="btn-secondary" role="button">
                â† ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
            </a>
            <button id="start-survey" class="btn-primary" disabled>
                ì‹œì‘í•˜ê¸° â†’
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const consentService = document.getElementById('consent-service');
    const consentPrivacy = document.getElementById('consent-privacy');
    const consentOptional = document.getElementById('consent-optional');
    const consentAllBtn = document.getElementById('consent-all');
    const startSurveyBtn = document.getElementById('start-survey');
    
    // í•„ìˆ˜ ë™ì˜ ì²´í¬ ìƒíƒœ í™•ì¸
    function checkRequiredConsent() {
        const isRequiredChecked = consentService.checked && consentPrivacy.checked;
        startSurveyBtn.disabled = !isRequiredChecked;
        
        if (isRequiredChecked) {
            startSurveyBtn.classList.add('enabled');
        } else {
            startSurveyBtn.classList.remove('enabled');
        }
    }
    
    // ëª¨ë‘ ë™ì˜ ë²„íŠ¼
    consentAllBtn.addEventListener('click', function() {
        consentService.checked = true;
        consentPrivacy.checked = true;
        consentOptional.checked = true;
        checkRequiredConsent();
    });
    
    // ê° ì²´í¬ë°•ìŠ¤ ì´ë²¤íŠ¸
    consentService.addEventListener('change', checkRequiredConsent);
    consentPrivacy.addEventListener('change', checkRequiredConsent);
    
    // ì„¤ë¬¸ ì‹œì‘ ë²„íŠ¼
    startSurveyBtn.addEventListener('click', function() {
        if (!startSurveyBtn.disabled) {
            // ìŒì„± ì•ˆë‚´
            if ('speechSynthesis' in window) {
                const msg = new SpeechSynthesisUtterance('ì²« ë²ˆì§¸ ë‹¨ê³„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.');
                msg.lang = 'ko-KR';
                msg.rate = 0.8;
                speechSynthesis.speak(msg);
            }
            
            // ì²« ë²ˆì§¸ ë‹¨ê³„ë¡œ ì´ë™
            window.location.href = "{{ url_for('survey_step1') }}";
        }
    });
    
    // í‚¤ë³´ë“œ ì ‘ê·¼ì„±
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && e.target.type === 'checkbox') {
            e.target.checked = !e.target.checked;
            checkRequiredConsent();
        }
    });
    
    // ì´ˆê¸° ìƒíƒœ í™•ì¸
    checkRequiredConsent();
});
</script>
{% endblock %} 